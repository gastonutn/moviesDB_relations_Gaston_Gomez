<!DOCTYPE html>
<html lang="es">

<%- include('partials/head') %>
  <body class="bg-dark text-center">
    <%- include('partials/header') %>

   
    
    <h3 class="titulo mt-5">Agregar Pel√≠cula</h3>
   
   <div class="container">
    <div class="row justify-content-center">
        <form action="/movies/create" method="POST" class="d-flex col-10 col-md-8 justify-content-center flex-wrap" >
            <div class="col-10 col-md-8 mb-3 ">
                 <label for="title" class="form-label">Titulo</label>
                 <input type="text" class="form-control <%= locals.errors && (errors.title && 'is-invalid') %> " name="title" value="<%= locals.old && (old.title && old.title ) %>" >
                 <small class="text-danger ms-2">
                  <%= locals.errors && (errors.title && errors.title.msg) %>
                </small>
                </div>
              <div class="col-10 col-md-8 mb-3 ">
                <label for="rating" class="form-label">Rating</label>
                <input type="text" class="form-control <%= locals.errors && (errors.rating && 'is-invalid') %>" name="rating" value="<%= locals.old && (old.rating && old.rating ) %>" >
                <small class="text-danger ms-2">
                  <%= locals.errors && (errors.rating && errors.rating.msg) %>
                </small>
             </div>
             <div class="col-10 col-md-8 mb-3 ">
                <label for="awards" class="form-label">Awards</label>
                <input type="text" class="form-control <%= locals.errors && (errors.awards && 'is-invalid') %>" name="awards" value="<%= locals.old && (old.awards && old.awards ) %>">
                <small class="text-danger ms-2">
                  <%= locals.errors && (errors.awards && errors.awards.msg) %>
                </small>
             </div>
             <div class="col-10 col-md-8 mb-3 ">
                <label for="release_date" class="form-label">Fecha</label>
                <input type="date" class="form-control <%= locals.errors && (errors.release_date && 'is-invalid') %> " name="release_date" value="<%= locals.old && (old.release_date && old.release_date ) %>">
                <small class="text-danger ms-2">
                  <%= locals.errors && (errors.release_date && errors.release_date.msg) %>
                </small>
             </div>
             <div class="col-10 col-md-8 mb-3 ">
                <label for="length" class="form-label">Duracion</label>
                <input type="text" class="form-control  <%= locals.errors && (errors.length && 'is-invalid') %>" name="length" value="<%= locals.old && (old.length && old.length ) %>">
                <small class="text-danger ms-2">
                  <%= locals.errors && (errors.length && errors.length.msg) %>
                </small>
              </div>
             <div class="col-10 col-md-8 mb-3 ">
             <label for="genreID" class="col12 col">Genero </label>
             <p>
                 <select class="form-select <%= locals.errors && (errors.genre_id && 'is-invalid') %> " name="genre_id" id="" >
                     <option value="" disabled selected>- seleccione el genero - </option>
                     <% genres.forEach(genre => { %>
                     <option value="<%= genre.id %>" <%=locals.old && (locals.old.genre_id===genre.id
                      && 'selected' ) %>><%= genre.name %></option>
                     <% }); %>
                 </select>
             </p>
             <small class="text-danger ms-2">
              <%= locals.errors && (errors.genre_id && errors.genre_id.msg) %>
            </small>
            </div>
          
          
            <div class="col-10 col-md-8 d-flex text-start flex-wrap">
              <div class="row">
                  <% actors.forEach(actor => { %>
                      <div class="col-6 col-md-4">
                          <div class="form-check ">
                              <input name='actors' class="form-check-input" type="checkbox" value="<%= actor.id %>" id="flexCheckDefault">
                              <label class="form-check-label" for="flexCheckDefault">
                                  <%= actor.first_name %> <%= actor.last_name %>
                              </label>
                          </div>
                      </div>
                  <% }); %>
              </div>
          </div>

        <div class="col-10 col-md-8 mb-3 ">
          <button type="submit" class="btn " id="btns" >Agregar</button>
          <a href="/movies"  class="btn " id="btn" >Lista de peliculas</a>
          
        </div>

         
          </form>
        </div>
    </div>
    
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>

</html>